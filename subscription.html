<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Sports | VIP Activation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        /* ফন্ট সেটিংস - নরমাল এবং পরিষ্কার */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        :root { 
            --p-purple: #7b61ff; 
            --a-cyan: #00f2ff; 
            --bg: #050508; 
            --vip-gold: #fcd535; 
            --card-bg: #1a1f26;
        }

        /* বডি ডিজাইন */
        body { 
            background: var(--bg); 
            background-image: radial-gradient(circle at 50% -20%, #1a103d 0%, #050508 100%); 
            color: #fff; 
            font-family: 'Poppins', sans-serif; /* নরমাল ফন্ট */
            margin: 0; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            min-height: 100vh; 
            padding: 50px 0; 
        }

        /* কার্ড লিস্ট কন্টেইনার */
        #plan-list { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 20px; 
            width: 100%; 
            padding: 20px;
        }

        /* ক্লিন কার্ড ডিজাইন */
        .premium-card { 
            background: var(--card-bg);
            border-radius: 20px; 
            padding: 30px 20px; 
            position: relative; 
            border: 1px solid rgba(255, 255, 255, 0.1); 
            transition: transform 0.3s ease;
            overflow: hidden; 
            text-align: center; 
            width: 100%; 
            max-width: 350px; 
            box-sizing: border-box;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }

        .premium-card:hover { 
            transform: translateY(-5px);
            border-color: var(--p-purple);
        }

        /* সিম্পল ভিআইপি ব্যাজ */
        .vip-badge { 
            position: absolute; 
            top: 10px; 
            right: -30px; 
            background: var(--vip-gold); 
            color: #000; 
            font-size: 0.7rem; 
            font-weight: 700; 
            padding: 4px 35px; 
            transform: rotate(45deg); 
        }

        /* আইকন এবং টেক্সট */
        .plan-icon { 
            font-size: 2rem; 
            margin-bottom: 10px; 
            color: var(--vip-gold);
        }

        .plan-name { 
            font-size: 1.1rem; 
            font-weight: 600;
            color: #fff; 
            margin-bottom: 5px;
            letter-spacing: 0.5px;
        }

        .plan-price { 
            font-size: 2.2rem; 
            font-weight: 700; 
            margin: 10px 0; 
            color: #fff;
        }

        /* ফিচার লিস্ট */
        .plan-features { 
            list-style: none; 
            padding: 0; 
            margin: 15px 0; 
            text-align: left; 
            display: inline-block; 
            width: 100%;
        }

        .plan-features li { 
            font-size: 0.85rem; 
            color: #ccc; 
            margin: 8px 0; 
            display: flex; 
            align-items: center; 
            gap: 10px;
        }

        .plan-features li i { 
            color: #2ecc71; /* সাকসেস গ্রিন কালার চেকমার্কের জন্য */
            font-size: 0.9rem; 
        }

        /* বাটন ডিজাইন */
        .btn-premium { 
            background: var(--vip-gold); 
            color: #000; 
            border: none; 
            padding: 14px; 
            border-radius: 12px; 
            font-weight: 700; 
            font-size: 1rem; 
            cursor: pointer; 
            width: 100%; 
            margin-top: 10px; 
            transition: background 0.3s;
        }

        .btn-premium:hover {
            background: #e6c230;
        }

        .btn-premium:active {
            transform: scale(0.98);
        }
    </style>
</head>
<body>

    <h2 style="font-weight: 600; color:#fff; margin-bottom:30px; font-size:1.4rem; text-align:center;">
        Choose Your VIP Plan
    </h2>
    
    <div id="plan-list"></div>

    <script>
        // আপনার অরিজিনাল স্ক্রিপ্ট (কোনো পরিবর্তন করা হয়নি)
        const S_URL = 'https://cclfxvmpgkytzebuhwpj.supabase.co';
        const S_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjbGZ4dm1wZ2t5dHplYnVod3BqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5MDUyNTIsImV4cCI6MjA4NzQ4MTI1Mn0.-x_bxezKwaiJBdkTrJaXJuN95614sTHvTR3oBP_aLZQ';
        const _supabase = window.supabase.createClient(S_URL, S_KEY);

        let isLocal = true;
        let currentUser = null;

        async function init() {
            const { data: { session } } = await _supabase.auth.getSession();
            currentUser = session ? session.user : null;
            try {
                const loc = await fetch('https://ipapi.co/json/');
                const lData = await loc.json(); 
                isLocal = (lData.country_code === 'BD');
            } catch(e) { isLocal = true; }
            loadPlans();
        }

        async function loadPlans() {
            const { data } = await _supabase.from('subscription_plans').select('*').eq('is_active', true);
            document.getElementById('plan-list').innerHTML = data.map(p => `
                <div class="premium-card animate__animated animate__fadeInUp">
                    <div class="vip-badge">VIP</div>
                    <div class="plan-icon"><i class="fas fa-crown"></i></div>
                    <div class="plan-name">${p.plan_name}</div>
                    <div class="plan-price">${isLocal ? '৳'+p.price_bdt : '$'+p.price_usd}</div>
                    <ul class="plan-features">
                        <li><i class="fas fa-check-circle"></i> VIP Match Tips</li>
                        <li><i class="fas fa-check-circle"></i> 24/7 Priority Support</li>
                        <li><i class="fas fa-check-circle"></i> High Accuracy Rates</li>
                    </ul>
                    <button class="btn-premium" onclick="goToPayment(${p.price_usd}, ${p.price_bdt}, '${p.plan_name}', ${p.duration_days})">
                        ACTIVATE VIP
                    </button>
                </div>`).join('');
        }

        function goToPayment(usd, bdt, name, days) {
            if(!currentUser) {
                Swal.fire({ title: 'Login Required', text: 'দয়া করে আগে লগইন করুন।', icon: 'info', confirmButtonColor: '#7b61ff' })
                .then(() => window.location.href = 'login.html');
                return;
            }
            const payData = encodeURIComponent(JSON.stringify({ usd, bdt, name, days }));
            window.location.href = `payment.html?data=${payData}`;
        }
        init();
    </script>
</body>
</html>
