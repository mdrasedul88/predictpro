<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Sports | VIP Activation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        /* ফন্ট এবং ভ্যারিয়েবল */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Poppins:wght@300;400;600&display=swap');
        
        :root { 
            --p-purple: #7b61ff; 
            --a-cyan: #00f2ff; 
            --bg: #050508; 
            --vip-gold: #fcd535; 
            --card-bg: rgba(255, 255, 255, 0.03);
        }

        /* বডি ডিজাইন */
        body { 
            background: var(--bg); 
            background-image: radial-gradient(circle at 50% -20%, #1a103d 0%, #050508 100%); 
            color: #fff; 
            font-family: 'Poppins', sans-serif; 
            margin: 0; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            min-height: 100vh; 
            padding: 60px 0; 
        }

        /* কার্ড লিস্ট কন্টেইনার */
        #plan-list { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 30px; 
            width: 100%; 
            padding-bottom: 50px;
        }

        /* প্রিমিয়াম কার্ড ডিজাইন আপডেট */
        .premium-card { 
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 24px; 
            padding: 35px 25px; 
            position: relative; 
            border: 1px solid rgba(255, 255, 255, 0.1); 
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            overflow: hidden; 
            text-align: center; 
            width: 85%; 
            max-width: 340px; 
            box-sizing: border-box;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        }

        .premium-card:hover { 
            transform: translateY(-10px); 
            border-color: var(--p-purple); 
            box-shadow: 0 20px 40px rgba(123, 97, 255, 0.2); 
            background: rgba(255, 255, 255, 0.06);
        }

        /* কার্ডের ভেতরে গ্লো ইফেক্ট */
        .premium-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(123, 97, 255, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        /* ভিআইপি ব্যাজ */
        .vip-badge { 
            position: absolute; 
            top: 15px; 
            right: -32px; 
            background: var(--vip-gold); 
            color: #000; 
            font-size: 0.6rem; 
            font-weight: 900; 
            padding: 5px 35px; 
            transform: rotate(45deg); 
            font-family: 'Orbitron';
            box-shadow: 0 2px 10px rgba(252, 213, 53, 0.3);
        }

        /* আইকন এবং টেক্সট */
        .plan-icon { 
            font-size: 2.2rem; 
            margin-bottom: 12px; 
            color: var(--vip-gold);
            filter: drop-shadow(0 0 10px rgba(252, 213, 53, 0.4));
        }

        .plan-name { 
            font-family: 'Orbitron'; 
            font-size: 0.8rem; 
            color: #fff; 
            letter-spacing: 2px; 
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .plan-price { 
            font-size: 2.5rem; 
            font-weight: 800; 
            margin: 15px 0; 
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }

        /* ফিচার লিস্ট */
        .plan-features { 
            list-style: none; 
            padding: 0; 
            margin: 20px 0; 
            text-align: left; 
            display: inline-block; 
            width: 100%;
        }

        .plan-features li { 
            font-size: 0.8rem; 
            color: #aaa; 
            margin: 8px 0; 
            display: flex; 
            align-items: center; 
            gap: 12px;
            padding: 5px 10px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
        }

        .plan-features li i { 
            color: var(--vip-gold); 
            font-size: 0.7rem; 
        }

        /* বাটন ডিজাইন */
        .btn-premium { 
            background: linear-gradient(90deg, #fcd535, #ff9900); 
            color: #000; 
            border: none; 
            padding: 16px; 
            border-radius: 16px; 
            font-weight: 800; 
            font-family: 'Orbitron'; 
            font-size: 0.8rem; 
            cursor: pointer; 
            width: 100%; 
            margin-top: 15px; 
            text-transform: uppercase; 
            transition: 0.3s;
            box-shadow: 0 4px 15px rgba(252, 213, 53, 0.3);
        }

        .btn-premium:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(252, 213, 53, 0.5);
            filter: brightness(1.1);
        }

        .btn-premium:active {
            transform: scale(0.98);
        }
    </style>
</head>
<body>

    <h2 style="font-family:'Orbitron'; color:var(--vip-gold); margin-bottom:40px; letter-spacing:3px; font-size:1.2rem; text-align:center;">
        <i class="fas fa-shield-halved"></i> SELECT VIP PLAN
    </h2>
    
    <div id="plan-list"></div>

    <script>
        // আপনার অরিজিনাল স্ক্রিপ্ট এখানে হুবহু আছে (কোনো পরিবর্তন করা হয়নি)
        const S_URL = 'https://cclfxvmpgkytzebuhwpj.supabase.co';
        const S_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjbGZ4dm1wZ2t5dHplYnVod3BqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5MDUyNTIsImV4cCI6MjA4NzQ4MTI1Mn0.-x_bxezKwaiJBdkTrJaXJuN95614sTHvTR3oBP_aLZQ';
        const _supabase = window.supabase.createClient(S_URL, S_KEY);

        let isLocal = true;
        let currentUser = null;

        async function init() {
            const { data: { session } } = await _supabase.auth.getSession();
            currentUser = session ? session.user : null;
            try {
                const loc = await fetch('https://ipapi.co/json/');
                const lData = await loc.json(); 
                isLocal = (lData.country_code === 'BD');
            } catch(e) { isLocal = true; }
            loadPlans();
        }

        async function loadPlans() {
            const { data } = await _supabase.from('subscription_plans').select('*').eq('is_active', true);
            document.getElementById('plan-list').innerHTML = data.map(p => `
                <div class="premium-card animate__animated animate__fadeInUp">
                    <div class="vip-badge">VIP</div>
                    <div class="plan-icon"><i class="fas fa-crown"></i></div>
                    <div class="plan-name">${p.plan_name}</div>
                    <div class="plan-price">${isLocal ? '৳'+p.price_bdt : '$'+p.price_usd}</div>
                    <ul class="plan-features">
                        <li><i class="fas fa-check"></i> VIP Match Tips</li>
                        <li><i class="fas fa-check"></i> 24/7 Priority Support</li>
                        <li><i class="fas fa-check"></i> High Accuracy Rates</li>
                    </ul>
                    <button class="btn-premium" onclick="goToPayment(${p.price_usd}, ${p.price_bdt}, '${p.plan_name}', ${p.duration_days})">
                        ACTIVATE VIP
                    </button>
                </div>`).join('');
        }

        function goToPayment(usd, bdt, name, days) {
            if(!currentUser) {
                Swal.fire({ title: 'Login Required', text: 'দয়া করে আগে লগইন করুন।', icon: 'info', confirmButtonColor: '#7b61ff' })
                .then(() => window.location.href = 'login.html');
                return;
            }
            const payData = encodeURIComponent(JSON.stringify({ usd, bdt, name, days }));
            window.location.href = `payment.html?data=${payData}`;
        }
        init();
    </script>
</body>
</html>
